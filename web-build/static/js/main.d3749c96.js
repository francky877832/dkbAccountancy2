(()=>{"use strict";var e={759:(e,t,o)=>{o.r(t),o.d(t,{default:()=>st});var n=o(5442),r=o(8148),i=o(4304),a=o(4854),s=o(7810),l=o(7232),d=o(2928),c=o(6690),u=o(6193),f=o(4222),p=o(5664);const h=p.default.get("window"),g=h.width,x=(h.height,"#F0F0F0"),m="blue",y="rgba(242, 122, 26, 0.1)",C="#fff",j="#ccc",b="#777",w="#444",S="gray",v="red",I="rgb(32, 137, 220)",T="green",k="orange",E="#fff",P="rgba(0, 0, 0, 0.2)",B="rgba(0, 0, 0, 0.9)",F="rgba(0, 0, 0, 0.7)",O="rgba(0, 0, 0, 0.3)",z="rgba(245, 245, 245, 1)",D="rgba(19, 243, 19, 0.25)",L="rgba(249, 28, 19, 0.25)",R={mainFontFamily:void 0,secondaryFontFamily1:"Arial",secondaryFontFamily2:"Georgia",secondaryFontFamily3:void 0,secondaryFontFamily4:"Courier"},A={text:{fontFamily:R.mainFontFamily,fontSize:14,color:B}},_={fontSize:16,color:w,fontFamily:R.mainFontFamily,fontWeight:"bold"},W={text:{color:v}};var V=o(9612);const N=p.default.get("window").width,U=N/2-5-10,M=n.default.create({container:{backgroundColor:C,width:U,marginHorizontal:5,marginVertical:5,paddingBottom:5},containerVisibility:{position:"absolute",width:"100%",height:"100%",justifyContent:"center",alignItems:"center",backgroundColor:S,opacity:.5,zIndex:999},containerVisibilityInfo:{justifyContent:"center",alignItems:"center",position:"absolute",left:0,right:0,bottom:0,padding:10,zIndex:1e4,backgroundColor:w,opacity:1},containerHorizontal:{backgroundColor:C,width:N/2,marginHorizontal:5,marginVertical:5,paddingBottom:5},imageHorizontal:{width:"100%",borderRadius:0},pressable:{flex:1},image:{width:"100%",height:1.2*U,borderRadius:0},text:{paddingHorizontal:10,paddingVertical:5},shopName:{fontWeight:"bold",fontStyle:"italic",fontFamily:R.mainFontFamily,color:"gray"},productName:{fontStyle:"normal",fontFamily:R.mainFontFamily,color:w,alignSelf:"center",fontSize:15},price:{color:m,fontWeight:"bold"},top:{height:25,width:"100%",position:"absolute",flexDirection:"row",justifyContent:"space-between",paddingHorizontal:2,left:0,right:0,zIndex:100,backgroundColor:P},bottom:{top:5,borderRadius:0,padding:5,borderWidth:1,borderColor:m,flexDirection:"row",justifyContent:"center"},category:{fontSize:14,fontWeight:"bold",fontStyle:"normal",fontFamily:R.mainFontFamily,color:m},feesBy:{flexDirection:"row",justifyContent:"center",alignItems:"center",backgroundColor:w,paddingRight:4},bottomIcons:{flexDirection:"row",justifyContent:"center",alignItems:"center"},bottomIconsButton:{justifyContent:"center",alignItems:"center",paddingHorizontal:2,flexWrap:"wrap",width:52},card:{borderRadius:8,shadowColor:z,shadowOffset:{width:0,height:2},shadowOpacity:.2,shadowRadius:8,elevation:5},isBasketPresent:{backgroundColor:w,borderColor:P},isBasketPresentText:{color:E}}),H={position:"relative",justifyContent:"center",alignSelf:"center",left:0,right:0,backgroundColor:E,paddingHorizontal:30,zIndex:100,shadowColor:B,shadowOffset:{width:0,height:4},shadowOpacity:.3,shadowRadius:5,elevation:10,borderRadius:10,paddingVertical:30},$=n.default.create({container:{flex:1,backgroundColor:z,justifyContent:"center"},backgroundImage:{flex:1,resizeMode:"cover",alignItems:"center"},cover:{position:"absolute",flex:1,left:0,right:0,top:0,bottom:0,backgroundColor:O,zIndex:99},registerOrLogin:{flexDirection:"row"},credentialGroup:{flexDirection:"row",justifyContent:"space-around",width:"100%"},pressable:{paddingVertical:15,borderRadius:20,bottom:10},infoContainer:Object.assign({},H,{position:"absolute"}),credentialContainers:{},forgotBox:{flexDirection:"row",justifyContent:"flex-end"},forgotText:{textDecorationLine:"underline",color:I},titleBox:{left:20},title:Object.assign({},A.text,{color:E,fontSize:30,fontWeight:"bold"}),inputContainer:{},inputFocused:{borderColor:m},input:Object.assign({},A.text,{fontSize:16,left:10})});o(3803),o(1560);var q=o(2043),G=o.n(q);o(6857);const J=e=>{let t=[],o=(e=e||"").toString().split(""),n=[];for(let r=o.length-1;r>=0;r--)"."!=o[r]&&n.push(o[r]);for(let r in n)"."!=n[r]&&t.push(n[r]),(r+1)%3==0&&r!=n.length-1&&t.push(".");return t.reverse().join("")},K=e=>{switch(e){case"auth/invalid-email":return"L'adresse e-mail est invalide.";case"auth/user-disabled":return"Ce compte a \xe9t\xe9 d\xe9sactiv\xe9.";case"auth/user-not-found":return"Aucun utilisateur trouv\xe9 avec cette adresse e-mail.";case"auth/wrong-password":return"Le mot de passe est incorrect.";case"auth/too-many-requests":return"Trop de tentatives de connexion. R\xe9essayez plus tard.  Si vous ne voulez pas attendre r\xe9initialisez votre mot de passe.";default:return"Une erreur inconnue s'est produite. Veuillez r\xe9essayer."}},X=()=>{const e=new Date,t=String(e.getMonth()+1).padStart(2,"0");return`${String(e.getDate()).padStart(2,"0")}/${t}/${String(e.getFullYear()).slice(-2)}`},Y=e=>3===e.split("/").length,Q=e=>{G().fire({title:e.title,text:e.text,icon:e.icon,showCancelButton:!0,confirmButtonText:"Ok",cancelButtonText:"No"}).then((t=>{t.isConfirmed?e.action():"function"==typeof e.refuseAction?e.refuseAction():e.action()}))},Z="https://dkbbackend.onrender.com";var ee=o(7308);o(9620);var te=o(4922);const oe=(0,s.createContext)(),ne=({children:e})=>{const[t,o]=(0,s.useState)(!1),[n,r]=(0,s.useState)({_id:"66feb4217fa2c43a7e8d76d9",username:"dkb61"}),[i,a]=(0,s.useState)([]),[l,d]=(0,s.useState)(!1),[c,u]=(0,s.useState)(""),[f,p]=(0,s.useState)(""),[h,g]=(0,s.useState)(""),[x,m]=(0,s.useState)({}),y={temporaryAddress:x,refreshComponent:t,email:c,username:f,password:h,user:n,isAuthenticated:l},C={setTemporaryAddress:m,setRefreshComponent:o,setEmail:u,setUsername:p,setPassword:g,setUser:r,setIsAuthenticated:d},j={getUserAccounters:async()=>{try{const e=await fetch(`${Z}/api/auth/accountancies/get`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e){const t=await e.text();throw new Error(t.message)}const t=await e.json();return a(t.datas),t.datas}catch(e){return console.log(e),[]}},getUser:async e=>{try{const t=await fetch(`${Z}/api/auth/users/get/${encodeURI(e)}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t)throw new Error("Cet email ne'existe pas "+await t.text());await t.json();return!0}catch(t){return console.log(t),!1}},updateUser:async(e,t)=>{try{const o=await fetch(`${Z}/api/auth/users/update/${encodeURIComponent(e)}`,{method:"PUT",headers:{"Content-Type":"multipart/form-data"},body:t});if(!o.ok){const e=await o.json();return void console.error("Erreur lors de la mise \xe0 jour de l'utilisateur:",e.message)}const n=await o.json();return n.success,n.user}catch(o){console.error("Erreur lors de la requ\xeate:",o)}},checkEmail:e=>{},checkPassword:e=>{},checkUsername:e=>{},signupUserWithEmailAndPassword:async(e,t,o,n,r,i)=>{const a={email:e,password:o,adminPassword:n,role:r,location:i};try{const e=await fetch(`${Z}/api/auth/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!e.ok)throw new Error("Erreur lors de l\u2019inscription"+await e.text());const t=await e.json();console.log("Inscription r\xe9ussie:",t)}catch(s){console.error("Erreur:",s)}},loginUserWithEmailAndPassword:async(e,t,o,n)=>{const i={email:e,username:t,password:o,type:n};try{const e=new URLSearchParams(i).toString(),t=await fetch(`${Z}/api/auth/login?${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(t.ok){const e=await t.json(),o=(e.token,e.user);return console.log(o),r(o),d(!0),o}throw new Error((await t.json()).error)}catch(a){return console.log(a),d(!1),!1}}};return(0,te.jsx)(oe.Provider,{value:Object.assign({},y,C,j),children:e})},re=e=>{const t=(0,V.useNavigation)(),{user:n}=((0,V.useRoute)(),(0,s.useContext)(oe)),r=["admin","boss","visualizer"],i=["admin","cashier","supplier","auto-supplier"],a=["admin","boss","supplier","auto-supplier"];return(0,te.jsxs)(d.default,{style:[ie.container],children:[(0,te.jsxs)(d.default,{style:[ie.menu],children:[["boss","admin"].includes(n?.role)&&(0,te.jsx)(u.default,{style:[ie.menuItem],onPress:()=>{t.navigate("UserLogin",{page:"register"})},children:(0,te.jsx)(c.default,{style:[A.text,ie.menuItemText],children:"Sign Up"})}),(0,te.jsx)(d.default,{style:{width:10}}),(0,te.jsx)(u.default,{style:[ie.menuItem],onPress:()=>{t.navigate("UserLogin",{page:"login"})},children:(0,te.jsx)(c.default,{style:[A.text,ie.menuItemText],children:"Logout"})})]}),(0,te.jsx)(d.default,{style:{height:10}}),(0,te.jsx)(d.default,{style:[ie.logoBox],children:(0,te.jsx)(f.default,{source:o(6797),style:[ie.logoImage]})}),(0,te.jsx)(d.default,{style:{height:10}}),(0,te.jsxs)(d.default,{style:[ie.infoContainer],children:[(0,te.jsx)(u.default,{style:[ie.menuButton,{backgroundColor:r.includes(n.role)?I:w}],onPress:()=>{r.includes(n.role)&&t.navigate("ViewAccountancies")},children:(0,te.jsx)(c.default,{style:[A.text,ie.menuText],children:"Visualiser"})}),(0,te.jsx)(u.default,{style:[ie.menuButton,{backgroundColor:i.includes(n.role)?I:w}],onPress:()=>{i.includes(n.role)&&t.navigate("AddAccountancy")},children:(0,te.jsx)(c.default,{style:[A.text,ie.menuText],children:"Ajouter"})}),(0,te.jsx)(u.default,{style:[ie.menuButton,{backgroundColor:a.includes(n.role)?I:w}],onPress:()=>{a.includes(n.role)&&t.navigate("SupplyFunds")},children:(0,te.jsx)(c.default,{style:[A.text,ie.menuText],children:"Approvisionnement"})})]})]})},ie=n.default.create({container:{flex:1,justifyContent:"center",alignItems:"center"},menu:{flexDirection:"row",width:"100%",justifyContent:"center",alignItems:"center"},menuItem:{},menuItemText:{fontWeight:"bold",fontSize:15,color:I},logoBox:{height:300,width:"100%",justifyContent:"center",alignItems:"center"},logoImage:{height:"100%",width:"90%"},infoContainer:Object.assign({},H,{justifyContent:"center",alignItems:"center",width:"100%"}),menuButton:{padding:20,borderRadius:10,borderWidth:1,borderColor:z,width:"100%",alignItems:"center",marginTop:5,backgroundColor:I},menuText:{fontWeight:"bold",fontSize:16,color:E}});var ae=o(9700),se=o(5741),le=o(3413),de=o(334);o(6229);n.default.create({focused:{backgroundColor:y,borderRadius:25},iconContainer:{width:50,padding:5,justifyContent:"center",alignItems:"center"}});const ce=p.default.get("window"),ue=ce.width,fe=(ce.height,n.default.create({container:{backgroundColor:E,paddingHorizontal:10,paddingBottom:0},commentContainer:{backgroundColor:"red"},flatlistContainerView:{paddingBottom:10,paddingRight:10},flatlistContainer:{backgroundColor:E,paddingRight:15},flatlistContainerNotAll:{maxHeight:600},comment:{flexDirection:"row",backgroundColor:b,padding:5,marginTop:10,alignSelf:"flex-start",paddingHorizontal:10,paddingVertical:5,borderRadius:10,maxWidth:"90%",left:1},subComment:{backgroundColor:j,alignSelf:"flex-end",width:"65%",paddingHorizontal:10,paddingVertical:5,left:1},commentText:Object.assign({},A.text),sendButton:{left:5},inputContainer:{top:0},input:Object.assign({},A,_,{padding:10}),inputFocused:{borderBottomWidth:1,borderColor:m},commentProfileContainer:{width:30,height:30,borderRadius:15,justifyContent:"center",alignItems:"center",alignSelf:"flex-end",borderWidth:1,borderColor:z,zIndex:99},commentProfile:{width:30,height:30,borderRadius:15}}),{borderRadius:8,shadowColor:B,shadowOffset:{width:0,height:2},shadowOpacity:.2,shadowRadius:8,elevation:5,borderWidth:1,borderColor:j}),pe=n.default.create({contentContainerStyle:{},container:{backgroundColor:E,zIndex:98,flex:1},topContainer:{flexDirection:"row",justifyContent:"space-around",alignItems:"center",borderBottomWidth:1,borderBottomColor:j,backgroundColor:E,flex:1},topMostContainer:{height:110},modal:{paddingBottom:5,borderTopWidth:1,borderTopColor:j,backgroundColor:E,zIndex:100,position:"absolute",left:0,right:0,top:110,borderWidth:1,borderBottomColor:b,borderRadius:5,shadowColor:z,shadowOffset:{width:0,height:2},shadowOpacity:.2,shadowRadius:8,elevation:5,backgroundColor:z,justifyContent:"center",alignItems:"center"},filtres:{justifyContent:"center",paddingHorizontal:5,flex:1,backgroundColor:E,zIndex:100},categoryContainer:{width:"100%",top:10,paddingBottom:25,justifyContent:"center"},orderByContainer:{flex:1,width:g,alignSelf:"center",alignItems:"center",justifyContent:"center",borderBottomWidth:1,backgroundColor:F,zIndex:101},radioBox:Object.assign({},fe,{alignItems:"flex-start",justifyContent:"center",backgroundColor:z,width:"90%",paddingHorizontal:40,paddingVertical:20,borderWidth:1,borderColor:F,borderRadius:10}),radioContainer:{flexDirection:"row",alignItems:"center",marginBottom:10},modalHeader:{paddingVertical:20},modalHeaderText:{fontSize:20,fontWeight:"bold"},similarContainer:{top:60,paddingBottom:5,backgroundColor:z},modalVisibleText:{color:m},priceContainer:{flexDirection:"column",marginTop:10,width:g,backgroundColor:z},price:{flexDirection:"row",justifyContent:"center",alignItems:"center"},minPrice:{paddingHorizontal:2,flex:1,paddingLeft:5},maxPrice:{paddingHorizontal:2,flex:1,paddingRight:5},label:{alignSelf:"center",fontSize:15,fontStyle:R.mainFontFamily},input:Object.assign({},A.text,_,{width:"100%",height:40,borderColor:j,borderWidth:1,borderRadius:5,paddingVertical:2,paddingHorizontal:20,flex:1,justifyContent:"center",backgroundColor:E}),inputFocused:{borderColor:m},conditionContainer:{flexDirection:"column",justifyContent:"space-around",marginTop:10,width:g},categorySeparator:{width:20},categoryFocused:{backgroundColor:m,borderWidth:1,borderColor:E},textCategoryFocused:{color:E},label:Object.assign({},A.text,{fontFamily:R.secondaryFontFamily3,fontWeight:"bold",color:w}),filterFlatlist:{top:10,alignSelf:"center",width:"100%"},category:{justifyContent:"center",backgroundColor:"#fff",borderWidth:1,borderColor:"#ccc",paddingVertical:5,paddingHorizontal:10,borderRadius:15,height:35},textCategory:{color:"#555",fontFamily:R.mainFontFamily,fontSize:12,fontWeight:"bold"},trierFiltrer:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",height:"100%"},trierFiltrerFocused:{borderTopWidth:1,borderTopColor:m},pressableFilter:{borderWidth:1,borderColor:j,padding:7,paddingHorizontal:10,borderRadius:20,flexDirection:"row"},pressableFilterFocused:{borderWidth:2,borderColor:m,backgroundColor:y},pressableFilterDisabled:{borderWidth:2,borderColor:m,backgroundColor:y},pressableFilterTextDisabled:{color:v},productContainer:{backgroundColor:z},flatlist:{backgroundColor:z}}),he=(n.default.create({container:{width:"100%",height:"100%"},buttonContainer:{flexDirection:"row",justifyContent:"space-between",paddingHorizontal:10,zIndex:100,backgroundColor:P},likeContainer:Object.assign({},pe.similarContainer,{top:20,paddingBottom:20}),getBackPosition:{bottom:60},buttonContainerLeft:{flexDirection:"row",justifyContent:"space-between"},prevButton:{color:E},likeButton:{backgroundColor:E,color:E},shareButton:{},underCaroussel:{backgroundColor:E},since:{flexDirection:"row",justifyContent:"space-between"},name:{},details:{flexDirection:"row",justifyContent:"space-between",top:15},description:{paddingTop:25,paddingBottom:20},descriptionBox:{flexDirection:"column",backgroundColor:j,padding:10,top:5,borderRadius:5,width:"100%"},infosBox:{paddingHorizontal:10,paddingTop:5},commentsContainer:{width:"100%",paddingBottom:10,backgroundColor:E,top:10,paddingTop:10},scrollView:{backgroundColor:z,width:"100%",left:0,right:0},bottom:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",position:"relative",left:0,right:0,bottom:0,backgroundColor:E,height:60,borderWidth:1,borderColor:j,paddingHorizontal:10},button:Object.assign({},M.card,{shadowColor:E,justifyContent:"center",alignItems:"center",height:50,borderRadius:5}),buttonText:{textAlign:"center",fontWeight:"bold"},price:{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"space-evenly",paddingHorizontal:5},acheter:{flex:1,borderRadius:5},panier:{flex:1,borderRadius:5,borderWidth:1,borderColor:m,left:-5},sellerBrand:{backgroundColor:y,paddingVertical:10,paddingHorizontal:5,width:ue},likeAddersImages:{width:50,height:50,borderRadius:25},likeAdders:{backgroundColor:E,padding:10},likeTitle:{},likeContent:{width:"100%",flexDirection:"row",justifyContent:"center",alignItems:"center"},likeItem:{position:"relaive",justifyContent:"center",alignItems:"center"},someText:{fontWeight:"bold",fontSize:20,color:B,paddingLeft:10},color:{width:16,height:16,borderRadius:8},propositionPrice:{flexDirection:"row",justifyContent:"center",alignItems:"center",paddingVertical:10,paddingHorizontal:10,backgroundColor:B,borderTopWidth:1,borderColor:E},offerLeftText:{color:E},offerRightText:{color:E},similarContainer:Object.assign({},pe.similarContainer,{top:10,paddingLeft:1,paddingBottom:20,backgroundColor:E,flex:1}),similarTitleContainer:{paddingTop:10},similarProducts:{flex:1,top:10,backgroundColor:E}}),n.default.create({container:{flex:1,borderTopWidth:1,borderBottomWidth:1,borderTopColor:x,borderBottomColor:x,backgroundColor:E,flexDirection:"row",justifyContent:"center",alignItems:"center",paddingHorizontal:10},containerBox:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",paddingHorizontal:5,backgroundColor:E},prevButton:{top:0},inputText:Object.assign({},A.text,_,{fontSize:16,color:"#333",fontFamily:R.mainFontFamily}),inputContainer:{borderWidth:1,borderColor:z,paddingHorizontal:5,backgroundColor:E,justifyContent:"center",alignItems:"center",alignSelf:"center",borderWidth:1,borderColor:z,borderRadius:60},inputContainerFocused:{borderWidth:1,borderColor:m}})),ge=n.default.create({likeButton:{likeIcon:{width:30,height:30,alignItems:"center"}},shareButton:{container:{flex:1,flexDirection:"row",paddingHorizontal:10}},prevButton:{container:{flex:1,flexDirection:"row",paddingHorizontal:10}},customText:{container:{flex:1,flexDirection:"row",paddingHorizontal:10}},conditionChoice:{checkBox:{flexDirection:"column",justifyContent:"space-around"}},activityIndicator:{container:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundColor:y},icon:{},activityIndicator:{width:"100%",height:"100%",alignSelf:"center",justifyContent:"center",alignContent:"center"}},modalActivityIndicator:{modalContainer:{flex:1,width:g,alignSelf:"center",alignItems:"center",justifyContent:"center",borderBottomWidth:1,backgroundColor:F,zIndex:101},modalContent:Object.assign({},fe,{alignItems:"center",justifyContent:"center",backgroundColor:z,width:"90%",paddingHorizontal:40,paddingVertical:20,borderWidth:1,borderColor:F,borderRadius:10})},counter:{container:{left:20,flexDirection:"row",alignItems:"center",justifyContent:"space-between"},containerStyleInput:{width:50,height:35,flexDirection:"row",alignItems:"center"},inputContainer:{width:30,height:25,backgroundColor:z}},priceDetails:{container:{padding:10,backgroundColor:B},title:{fontWeight:"bold",color:E},priceLine:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:5},semiTitle:{color:j},price:{fontWeight:"bold",color:E},totalPriceLine:{backgroundColor:m,padding:5},totalPriceText:{color:E,fontWeight:"bold"}},temporaryNotification:{container:{backgroundColor:F,position:"absolute",bottom:0,left:0,right:0,padding:20,justifyContent:"center",alignItems:"center"},message:{color:E}}});o(7162),o(8160);var xe=o(5715),me=o(25);const ye={USER:{ON_REGISTERED:{title:"Bienveue!!!",message:"Nous sommes heureux de vous compter parmi nous. Sur jiraShopping, Vendez ce que vous voulez gratuitement.\nTout le monde merite une seconde chance, meme votre produit.",action:"Account"}},ORDERS:{ON_NEW_ORDER:{message:"",action:""},PAYMENT_SUCCESSFUL:{message:"",action:""},PAYMENT_FAILED:{message:"",action:""},ON_ORDER_PENDING:{message:"",action:""},ON_ORDER_SHIPPED:{message:"",action:""},ON_ORDER_DELIVERED:{message:"",action:""}},OFFERS:{ON_NEW_OFFER:{message:"",action:""},ON_OFFER_RESPONSE:{ON_ACCEPTED:{message:"",action:""},ON_REFUSED:{message:"",action:""}}},PRODUCTS:{ON_NEW_LIKE:{title:"Nouveau Like",message:"Un de vos produits a re\xe7u un nouveau Like. Pr\xe9cipitez-vous pour faire une propositon.",action:"ProductDetails"},ON_NEW_COMMENT:{title:"Nouveau Commentaire",message:"Votre produit a un nouveau commentaire. Profitez-en pour s\xe9duire le client.",action:"AllComments"},ON_RESPONSE_COMMENT:{title:"Nouveau Commentaire",message:"Votre commentaire a re\xe7u a une nouvelle r\xe9ponse. Profitez-en pour s\xe9duire le client.",action:"AllComments"},ON_NEW_BASKET:{message:"",action:""},ON_DELETE_BASKET:{message:"",action:""},ON_PRODUCT_UPDATED:{title:"Produit Mis A Jour",message:"Un produit que vous suivez a ete mis a jour. Pr\xe9cipitez-vous pour placer un nouveau deal.",action:"ProductDetails"},ON_PRODUCT_CREADTED:{title:"Nouveau Produit",message:"Une boutique que vous suivez vient d'ajouter un nouveau produit. Pr\xe9cipitez-vous pour faire une offre.",action:"ProductDetails"}},ADMIN:{MISSED_YOU:{message:"",action:""},NEW_PRODUCT:{message:"",action:""},DONT_WASTE_TIME:{message:"",action:""},BE_CAREFULL:{BAD_COMMENT:{message:"",action:""},BAD_PRODUCT:{message:"",action:""}}}},Ce=(0,xe.createAsyncThunk)("favourites/addFavourite",(async({item:e,bool:t,user:o},{rejectWithValue:n})=>{try{let n={};const r={user:o._id,username:o.username,product:e._id};if(t?(n=await fetch(`${Z}/api/datas/favourites/update/${o._id}`,{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}}),n=await fetch(`${Z}/api/datas/products/likes/update/${e._id}`,{method:"PUT",body:JSON.stringify({updateLikes:1,userId:o._id}),headers:{"Content-Type":"application/json"}}),e.favourites.some((e=>e._id===o._id))||await(async({user:e,source:t,model:o,type:n,datas:r})=>{const i=ye[o],a=i[n].message,s=i[n].action,l=i[n].title,d={user:e,source:t,modele:o.toLowerCase(),type:n.toLowerCase(),message:a,action:s,read:0,title:l,datas:r};try{const t=await fetch(`${Z}/api/datas/notifications/update/${e}`,{method:"PUT",body:JSON.stringify(d),headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error("Erreur lors de la requ\xeate"+await t.text());return!0}catch(c){return console.error("Erreur","Une erreur est survenue! "+c),!1}})({user:e.seller._id,source:"app",model:"PRODUCTS",type:"ON_NEW_LIKE",datas:e._id})):(n=await fetch(`${Z}/api/datas/favourites/remove/${o._id}`,{method:"PUT",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}}),n=await fetch(`${Z}/api/datas/products/likes/update/${e._id}`,{method:"PUT",body:JSON.stringify({updateLikes:-1,userId:o._id}),headers:{"Content-Type":"application/json"}})),!n.ok)throw new Error("Erreur lors de la requ\xeate addFavourite")}catch(r){return console.error(r),n(r.message)}})),je=(0,xe.createAsyncThunk)("favourites/fetchUserFavourites",(async({user:e,page:t},{getState:o,rejectWithValue:n})=>{try{const o=await fetch(`${Z}/api/datas/favourites/get/${e}?page=${t}`);if(!o.ok)throw new Error("Erreur lors de la requ\xeate Fetch favourite"+await o.text());return await o.json()}catch(r){return console.error(r),n(r.message)}})),be=(0,xe.createSlice)({name:"favourites",initialState:{favourites:[],liked:null,isLoading:!1,disableLikeButton:!1,hasMore:!0,page:1,error:null,addLike:0,modifiedProducts:[]},reducers:{addLocalFavourite(e,t){const{product:o,user:n}=t.payload;if(!e.favourites.some((e=>e._id===o._id))){const t=Object.assign({},o,{likes:o.likes+1,favourites:[n,...o.favourites]});e.favourites.unshift(t),e.modifiedProducts.unshift(t)}e.addLike=e.addLike+1},removeLocalFavourite(e,t){const{product:o,user:n}=t.payload,r=Object.assign({},o,{likes:o.likes-1,favourites:o.favourites.filter((e=>e._id!==n._id))}),i=e.favourites.filter((e=>e._id!==o._id)),a=e.modifiedProducts.map((e=>e._id===o._id?r:e));e.favourites=i,e.modifiedProducts=a,e.addLike=e.addLike-1},addModifiedProduct(e,t){const o=t.payload;if(e.modifiedProducts.some((e=>e._id===o._id))){const t=e.modifiedProducts.map((e=>e._id===o._id?o:e));e.modifiedProducts=t}else{const t=[o,e.modifiedProducts];e.modifiedProducts=t}},setLikedIcon(e,t){e.liked=t.payload},setIsLoading(e,t){e.isLoading=t.payload},setDisableLikeButton(e,t){e.disableLikeButton=t.payload},setPage(e,t){e.page=t.payload},setHasMore(e,t){e.hasMore=t.payload},addFavouriteContext(e,t){const{item:o,bool:n}=t.payload,r=new Set(e.favourites.map((e=>e._id))).has(o._id);n&&!r?e.favourites=[o,...e.favourites]:!n&&r&&(e.favourites=e.favourites.filter((e=>e._id!==o._id)))},updateLocalFavourites(e,t){const{item:o,isAdding:n}=t.payload,r=e.favourites.findIndex((e=>e._id===o._id));n?-1===r&&e.favourites.push(o):-1!==r&&e.favourites.splice(r,1)}},extraReducers:e=>{e.addCase(Ce.pending,(e=>{e.isLoading=!0})).addCase(Ce.fulfilled,((e,t)=>{e.isLoading=!1})).addCase(Ce.rejected,((e,t)=>{e.isLoading=!1,e.error=t.payload})).addCase(je.pending,(e=>{e.isLoading=!0})).addCase(je.fulfilled,((e,t)=>{e.isLoading=!1;const o=t.payload.datas;o.length>0?(e.favourites=[...e.favourites,...o[0].productDetails],e.modifiedProducts=[...e.favourites,...o[0].productDetails],e.page+=1):e.hasMore=!1})).addCase(je.rejected,((e,t)=>{e.isLoading=!1,e.error=t.payload}))}}),{setLikedIcon:we,setIsLoading:Se,setDisableLikeButton:ve,setPage:Ie,setHasMore:Te,addFavouriteContext:ke,updateLocalFavourites:Ee,addLocalFavourite:Pe,removeLocalFavourite:Be,addModifiedProduct:Fe}=be.actions;be.reducer;o(5680);const Oe=e=>{const{text:t,color:o,backgroundColor:r,onPress:i,styles:a,disabled:s}=e,l=n.default.create({bg:{backgroundColor:r||I},color:{color:o||E}});return(0,te.jsx)(u.default,{style:[{justifyContent:"center",alignItems:"center"},a.pressable,l.bg],onPress:i,disabled:s,children:(0,te.jsx)(c.default,{style:[a.text,l.color],children:t})})},ze=e=>{const{onRequestClose:t,isLoading:o,size:n,color:r,message:i}=e;return(0,te.jsx)(le.default,{visible:o,transparent:!0,onRequestClose:()=>t(!0),children:(0,te.jsx)(d.default,{style:[ge.modalActivityIndicator.modalContainer],children:(0,te.jsxs)(d.default,{style:[ge.modalActivityIndicator.modalContent],children:[(0,te.jsx)(c.default,{style:[A.text,{fontWeight:"bold"}],children:i}),(0,te.jsx)(se.default,{color:r,size:n})]})})})},De=(0,s.createContext)(),Le=({children:e})=>{const[t,o]=(0,s.useState)([]),[n,r]=(0,s.useState)([]),[i,a]=(0,s.useState)(!1),l={accounters:n,accountancies:t,isLoading:i},d={setAccounters:r,setIsLoading:a},c={deleteAccountancyRecord:async e=>{try{const t=await fetch(`${Z}/api/datas/accountancy/remove/${encodeURIComponent(e._id)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({})});if(!t.ok){const e=await t.text();throw new Error(e)}return(await t.json()).datas}catch(t){return console.error("Erreur lors de la requ\xeate:",t),!1}},fetchAccountancies:async e=>{try{console.log(e),a(!0);const t=await fetch(`${Z}/api/datas/accountancy/accountancies/${encodeURIComponent(e._id)}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t)throw new Error("Erreur reseau "+await t.text());const n=await t.json();return o(n.datas),n.datas}catch(t){return console.log(t),[]}finally{a(!1)}},getSearchedAccountancies:async e=>{try{a(!0);const t=await fetch(`${Z}/api/datas/accountancy/accountancies/search?date=${encodeURIComponent(e)}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t)throw new Error("Erreur reseau "+await t.text());const n=await t.json();return o(n.datas),n.datas}catch(t){return console.log(t),[]}finally{a(!1)}},addUserDailyAccountancy:async(e,t)=>{try{const o=await fetch(`${Z}/api/datas/accountancy/add/${encodeURIComponent(e._id)}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!o.ok){const e=await o.text();throw new Error(e)}return(await o.json()).datas}catch(o){return console.error("Erreur lors de la requ\xeate:",o),!1}},fetchAccounters:async()=>{try{a(!0);const e=await fetch(`${Z}/api/datas/accountancy/accounters`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok){const t=await e.text();throw new Error(`Error: ${t}`)}const t=await e.json();return t.success?(r(t.datas),t.datas):void console.error("Error fetching users:",t.message)}catch(e){console.error("Fetch error:",e.message)}finally{a(!1)}}};return(0,te.jsx)(De.Provider,{value:Object.assign({},l,d,c),children:e})},Re=e=>{const t=(0,V.useNavigation)(),{fetchAccounters:o,fetchAccountancies:n,accounters:r,accountancies:i,isLoading:a,setIsLoading:l}=(0,s.useContext)(De);return(0,s.useEffect)((()=>{(async()=>{await o()})()}),[]),(0,te.jsx)(d.default,{style:[Ae.container],children:(0,te.jsxs)(d.default,{style:[Ae.infoContainer],children:[(0,te.jsx)(ae.default,{data:r,renderItem:({item:e})=>(0,te.jsx)(u.default,{style:[Ae.item],onPress:()=>{(e=>{t.navigate("ViewAccountanciesDetails",{accounter:e})})(e)},children:(0,te.jsx)(c.default,{style:[A.text,Ae.itemText],children:e.email.split("@")[0]})}),keyExtractor:e=>e._id.toString(),ItemSeparatorComponent:e=>(0,te.jsx)(d.default,{style:{height:5}}),contentContainerStyle:[Ae.flatlist],style:[{width:"100%"}],ListEmptyComponent:()=>{}}),(0,te.jsx)(ze,{onRequestClose:l,isLoading:a,size:"large",color:m,message:"Chargements des donn\xe9es..."})]})})},Ae=n.default.create({container:{flex:1,justifyContent:"center",alignItems:"center",top:10},top:{flex:1,alignItems:"center"},topTitle:{},infoContainer:Object.assign({},H,{position:"absolute",flex:1,width:"100%"}),contents:{paddingHorizontal:10},flatlist:{justifyContent:"center",width:"100%",height:"100%",paddingHorizontal:10},item:{padding:20,borderWidth:1,borderColor:j,width:"100%",justifyContent:"center",alignItems:"center"},itemText:{},titles:{},titlesText:{}});var _e=o(7903),We=o(1756);const Ve=n.default.create({container:{flexGrow:1,top:0},containers:{},titles:{backgroundColor:z,height:50,flexDirection:"row",alignItems:"center",paddingLeft:20},contents:{backgroundColor:E,flexDirection:"row",alignItems:"center",padding:20,paddingRight:0},titlesText:Object.assign({},A.text,{fontWeight:"bold",fontSize:16}),normalText:Object.assign({},A.text,{fontSize:14,color:w}),imageBox:{width:100,height:100,borderWidth:1,borderColor:b,justifyContent:"center",alignItems:"center"},imageCloseButton:{width:20,height:20,backgroundColor:P,position:"absolute",alignSelf:"flex-end",top:0},bottomPicker:Object.assign({},fe,{position:"absolute",left:0,right:0,bottom:0,padding:20,flexDirection:"row",justifyContent:"space-around",alignItems:"center",paddingHorizontal:20,backgroundColor:z,borderTopWidth:2,borderTopColor:E,zIndex:99}),inputContainer:{borderRadius:0,borderWidth:0,borderBottom:1,padding:0},radioBox:{flexDirection:"row",justifyContent:"space-around",alignItems:"center",width:"100%"},radioContainer:{flexDirection:"row",alignItems:"center"},categoryContainer:{backgroundColor:E,flexDirection:"column",justifyContent:"center",alignItems:"flex-start",padding:0,paddingRight:0,wifth:"100%"},pressableDetails:{padding:15,borderBottomWidth:1,borderColor:j,width:"100%",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},addProductSubmitView:{position:"relative",left:0,right:0,bottom:0,width:"100%",height:60},pressable:{padding:20,justifyContent:"center",alignItems:"center",flex:1},text:Object.assign({},A.text,{fontWeight:"bold"}),modalContainer:{flex:1,backgroundColor:F,justifyContent:"center",alignItems:"center"},fullImage:{width:"90%",height:"70%"},closeButton:{marginTop:20,padding:10,backgroundColor:v,borderRadius:5},closeButtonText:{fontSize:16,color:E}}),Ne=e=>{const t=(0,V.useNavigation)(),{user:o}=((0,V.useRoute)(),(0,s.useContext)(oe)),{fetchAccounters:n,addUserDailyAccountancy:r,accounters:i,accountancies:a,isLoading:l,setIsLoading:u}=(0,s.useContext)(De),[f,p]=(0,s.useState)(!1),[h,g]=(0,s.useState)(0),[x,y]=(0,s.useState)([]),[C,j]=(0,s.useState)(!1),[b,S]=(0,s.useState)({}),[v,I]=(0,s.useState)(null),[T,k]=(0,s.useState)(!1),[P,B]=(0,s.useState)(""),F=e=>e.split("@")[0],O=e=>{const t=F(o.email);let n=[];return"boss"==o.role?n=e.filter((e=>"admin"==F(e.email))):"auto-supplier"==o.role?n=[o]:"admin"==t?n=e.filter((e=>"comptabilite"==F(e.email))):"comptabilite"==t&&(n=e.filter((e=>["kennevarelle9","stessydkbglobal","dorisndokon3"].includes(F(e.email))))),n};return(0,s.useEffect)((()=>{(async()=>{n().then((e=>{console.log(e),B(O(e)[0]?._id)}))})()}),[]),(0,te.jsx)(d.default,{style:[Ue.container],children:(0,te.jsxs)(d.default,{style:[Ue.infoContainer],children:[(0,te.jsxs)(d.default,{style:[Ue.contents],children:[(0,te.jsx)(d.default,{style:[Ue.title],children:(0,te.jsx)(c.default,{style:[Ue.titleText],children:"Montant"})}),(0,te.jsx)(d.default,{style:{height:10}}),(0,te.jsx)(de.Input,{placeholder:"Montant en XAF",value:J(h),onChangeText:e=>{g(J(e))},inputMode:"numeric",multiline:!1,placeholderTextColor:w,inputStyle:[he.inputText],onFocus:()=>j(!0),onBlur:()=>j(!1),underlineColorAndroid:"transparent",containerStyle:[Ue.inputBox],inputContainerStyle:[he.inputContainer,C&&he.inputContainerFocused,Ue.inputContainer]})]}),(0,te.jsx)(d.default,{style:[Ue.contents],children:(0,te.jsxs)(d.default,{style:[Ue.receipient],children:[(0,te.jsx)(d.default,{style:[Ue.title],children:(0,te.jsx)(c.default,{style:[Ue.titleText],children:"Receipient"})}),(0,te.jsx)(d.default,{style:{height:10}}),(0,te.jsx)(We.Picker,{selectedValue:P,style:[Ue.picker],onValueChange:(e,t)=>B(e),children:O(i).map(((e,t)=>(0,te.jsx)(We.Picker.Item,{label:e.email,value:e._id},t)))})]})}),"auto-supplier"===o.role&&(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(d.default,{style:{height:10}}),(0,te.jsx)(de.Input,{placeholder:"Motif",value:v,onChangeText:e=>{I(e)},multiline:!1,placeholderTextColor:w,inputStyle:[he.inputText],onFocus:()=>k(!0),onBlur:()=>k(!1),underlineColorAndroid:"transparent",containerStyle:[Ue.inputBox],inputContainerStyle:[he.inputContainer,T&&he.inputContainerFocused,Ue.inputContainer]})]}),(0,te.jsx)(d.default,{style:{height:20}}),(0,te.jsx)(d.default,{style:[Ve.addProductSubmitView,{}],children:(0,te.jsx)(Oe,{text:"Valider",color:E,backgroundColor:m,styles:Ve,onPress:()=>{(async()=>{try{p(!0),S({});const e={reason:v?"auto-supply "+v:"Supply",amount:parseInt(h.split(".").join("")),billNo:"/",supplyTo:P,type:v?"auto-income":"income",date:X()};if(console.log(e),!await r(o,e))throw new Error("Erreur lors de l'ajout du raport");Q({title:"Alerte",text:"Votre transaction a \xe9t\xe9 effectu\xe9e avec success.",icon:"warning",action:t?.goBack})}catch(e){console.log(e),Q({title:"Erreur",text:"Verifier votre connexion a Internet. Si cela persiste contacter l'admin.",icon:"warning",action:function(){}})}finally{p(!1)}})()}})}),(0,te.jsx)(ze,{onRequestClose:p,isLoading:f,size:"large",color:m,message:"Chargements des donn\xe9es..."})]})})},Ue=n.default.create({container:{flex:1,justifyContent:"center",top:10},infoContainer:Object.assign({},H,{width:"100%"}),contents:{paddingHorizontal:10},inputContainer:{borderRadius:0,borderWidth:0,borderBottom:1,padding:0,left:0,width:"100%"},inputBox:{backgroundColor:E},picker:{padding:10,width:"100%",backgroundColor:E},titleText:{fontWeight:"bold",fontSize:16}}),Me=e=>{(0,V.useNavigation)();const t=(0,V.useRoute)(),{accounter:o}=t.params,{fetchAccounters:n,fetchAccountancies:r,accounters:i,accountancies:a,isLoading:l,setIsLoading:f,getSearchedAccountancies:p,deleteAccountancyRecord:h}=(0,s.useContext)(De),{user:x}=(0,s.useContext)(oe),[y,C]=(0,s.useState)(!1);(0,s.useEffect)((()=>{(async()=>{await r(o)})()}),[y]);const b=e=>e.split("@")[0].slice(0,10),w=async e=>{const t={title:"Alerte",text:"Etes vous sur de vouloir supprimer cette ligne ? L'operation est irreversible. Et de plus cela ne modifiera pas letat actuel de vos caisse.",icon:"warning",action:async function(){(async()=>{try{W(!0),await h(e),Q({title:"Alerte",text:"Record supprime avec succes",icon:"warning",action:function(){}}),C((e=>!e))}catch(t){console.log(t),Q({title:"Erreur",text:"Verifier votre connexion a Internet. Si cela persiste contacter l'admin.",icon:"warning",action:function(){}})}finally{W(!1)}})()},refuseAction:function(){}};Q(t)},S=()=>"comptabilite@dkbglobaltrader.net"===x.email&&!["comptabilite@dkbglobaltrader.net","benjamindzogang@dkbglobaltrader.net","ornelletsotezo@gmail.com"].includes(o.email),I=e=>{const{item:t,index:n}=e,r={title:"Alerte",text:t.reason,icon:"Information",action:null};let i="",a="+";return"income"==t?.type?t?.user._id==o._id?(i=L,a="-"):(i=D,a="+"):"auto-income"==t?.type?(i=k,a="+"):(i=L,a="+"),(0,te.jsxs)(u.default,{onPress:()=>Q(r),style:[He.line,{backgroundColor:i}],children:[S()&&(0,te.jsx)(u.default,{style:[He.cell],onPress:()=>{w(t)},children:(0,te.jsx)(c.default,{style:[He.recordItemText,{color:v,fontWeight:"bold"}],children:"Delete"})}),(0,te.jsx)(d.default,{style:[He.cell],children:(0,te.jsx)(c.default,{style:[He.recordItemText],children:t?.date})}),(0,te.jsx)(d.default,{style:[He.cell],children:(0,te.jsxs)(c.default,{style:[He.recordItemText],children:[t?.reason.substring(0,20)," ",t.reason.length>20?"...":"."]})}),(0,te.jsx)(d.default,{style:[He.cell],children:(0,te.jsxs)(c.default,{style:[He.recordItemText],children:[a," ",t?.amount]})}),(0,te.jsx)(d.default,{style:[He.cell],children:(0,te.jsx)(c.default,{style:[He.recordItemText],children:"outcome"==t?.type?t?.receivedBy:b(t?.supplyTo.email)})}),(0,te.jsx)(d.default,{style:[He.cell],children:(0,te.jsx)(c.default,{style:[He.recordItemText],children:"income"==t?.type?t?.user._id==o._id?b(t?.supplyTo.email):b(t?.user.email):t?.billNo})}),(0,te.jsx)(d.default,{style:[He.cell],children:(0,te.jsx)(c.default,{style:[He.recordItemText],children:"income"==t?.type?t?.user._id==o._id?t?.cashBalance:t?.supplyCashBalance:t?.cashBalance})})]})},[P,B]=(0,s.useState)("Day"),[F,O]=(0,s.useState)(X()),[z,R]=(0,s.useState)(!1),[_,W]=(0,s.useState)(!1),[N,U]=(0,s.useState)(!1);return(0,te.jsx)(_e.default,{horizontal:!0,contentContainerStyle:[He.container],children:(0,te.jsxs)(d.default,{style:[{flex:1}],children:[(0,te.jsxs)(d.default,{style:[He.topSearch],children:[(0,te.jsx)(u.default,{style:[He.searchButton,{alignItems:"center",backgroundColor:N?v:T}],onPress:()=>{U((e=>!e))},children:(0,te.jsx)(c.default,{style:[A.text,{color:E,fontWeight:"bold"}],children:N?"Fermer":"Chercher"})}),N&&(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(d.default,{style:[He.topElInput,{}],children:(0,te.jsx)(de.Input,{placeholder:"Date",value:F,onChangeText:e=>{O(e)},inputMode:"text",multiline:!1,readOnly:!1,maxLength:100,placeholderTextColor:j,inputStyle:[he.inputText],onFocus:()=>R(!0),onBlur:()=>R(!1),underlineColorAndroid:"transparent",containerStyle:[He.containerBox],inputContainerStyle:[he.inputContainer,z&&he.inputContainerFocused,He.inputContainer]})}),(0,te.jsx)(d.default,{style:{width:10}}),(0,te.jsx)(d.default,{style:[He.topEl,{}],children:(0,te.jsx)(We.Picker,{selectedValue:P,style:[He.picker],onValueChange:(e,t)=>B(e),children:["Day","Month"].map(((e,t)=>(0,te.jsx)(We.Picker.Item,{label:e,value:e},t)))})}),(0,te.jsx)(d.default,{style:{width:10}}),(0,te.jsx)(d.default,{style:[He.topEl,{}],children:(0,te.jsx)(Oe,{text:"Filtrer",color:E,backgroundColor:m,styles:He,onPress:()=>{(async()=>{try{W(!0);const e="day"===P.toLowerCase()?F:"01/"+F;if(!Y(e))return void me.default.alert("Date Error","Entrez une date valide, au format JJ pour day et JJ/MM pour month");await p(F)}catch(e){console.log(e),me.default.alert("Error","Verifier votre connexion a Internet. Si cela persiste contacter l'admin.")}finally{W(!1)}})()}})})]})]}),(0,te.jsx)(ae.default,{data:a,renderItem:({item:e,index:t})=>(0,te.jsx)(I,{item:e,index:t}),keyExtractor:e=>e._id.toString(),ItemSeparatorComponent:e=>(0,te.jsx)(d.default,{style:{height:5}}),contentContainerStyle:[He.flatlist],ListHeaderComponent:({item:e})=>(0,te.jsxs)(d.default,{style:[He.line],children:[S()&&!(x.email==o.email&&"comptabilite@dkbglobaltrader.net"==o.email)&&(0,te.jsx)(d.default,{style:[He.cell],children:(0,te.jsx)(c.default,{style:[He.titleText],children:"Action"})}),(0,te.jsx)(d.default,{style:[He.cell],children:(0,te.jsx)(c.default,{style:[He.titleText],children:"Date"})}),(0,te.jsx)(d.default,{style:[He.cell],children:(0,te.jsx)(c.default,{style:[He.titleText],children:"Reason"})}),(0,te.jsx)(d.default,{style:[He.cell],children:(0,te.jsx)(c.default,{style:[He.titleText],children:"Amount"})}),(0,te.jsx)(d.default,{style:[He.cell],children:(0,te.jsx)(c.default,{style:[He.titleText],children:"Received By"})}),(0,te.jsx)(d.default,{style:[He.cell],children:(0,te.jsx)(c.default,{style:[He.titleText],children:"Bill"})}),(0,te.jsx)(d.default,{style:[He.cell],children:(0,te.jsx)(c.default,{style:[He.titleText],children:"Balance"})})]}),ListFooterComponent:()=>{},ListEmptyComponent:()=>(0,te.jsx)(d.default,{style:[{width:g,justifyContent:"center",alignItems:"center"}],children:(0,te.jsx)(c.default,{style:[He.titleText],children:"Pas de donnees"})})}),(0,te.jsx)(d.default,{style:{hieght:10}}),(0,te.jsx)(ze,{onRequestClose:W,isLoading:_,size:"large",color:m,message:"Chargements des donn\xe9es..."})]})})},He=n.default.create({container:{flexGrow:1},searchButton:{padding:10},topSearch:{width:g,backgroundColor:E},topSearchEl:{},inputContainer:{width:"100%",borderRadius:0,borderWidth:0,borderBottom:1,padding:0},containerBox:{backgroundColor:E},picker:{padding:10},line:{flexDirection:"row",justifyContent:"space-between"},record:{flexDirection:"row",justifyContent:"space-between"},cell:{width:200,height:30,borderRightWidth:1,borderColor:E,justifyContent:"center",alignItems:"center"},subTitle:{},subTitleText:{},titleText:{color:w,fontWeight:"bold",fontSize:15},recordItemText:{color:w},pressable:{padding:20}}),$e=e=>{const t=(0,V.useNavigation)(),{user:o}=((0,V.useRoute)(),(0,s.useContext)(oe)),{addUserDailyAccountancy:n}=(0,s.useContext)(De),[r,i]=(0,s.useState)(""),[a,l]=(0,s.useState)(""),[u,f]=(0,s.useState)(""),[p,h]=(0,s.useState)(""),[g,x]=(0,s.useState)(""),[y,C]=(0,s.useState)(X()),[b,w]=(0,s.useState)(!1),[S,v]=(0,s.useState)(!1),[I,T]=(0,s.useState)(!1),[k,P]=(0,s.useState)(!1),[B,F]=(0,s.useState)(!1),[O,D]=(0,s.useState)(!1),[L,R]=(0,s.useState)({}),[A,_]=(0,s.useState)(!1);return(0,te.jsxs)(d.default,{children:[(0,te.jsxs)(_e.default,{contentContainerStyle:[Ve.container,{flexGrow:1}],children:[(0,te.jsxs)(d.default,{style:[Ve.containers],children:[(0,te.jsx)(d.default,{style:[Ve.titles],children:(0,te.jsx)(c.default,{style:[Ve.titlesText],children:"Motif De Retrait : "})}),(0,te.jsxs)(d.default,{style:[Ve.contents],children:[(0,te.jsx)(d.default,{style:{width:10}}),(0,te.jsxs)(d.default,{children:[(0,te.jsx)(de.Input,{placeholder:"EX : Give a reason",value:r,onChangeText:e=>{i(e)},inputMode:"text",multiline:!0,placeholderTextColor:j,inputStyle:[he.inputText],onFocus:()=>w(!0),onBlur:()=>w(!1),underlineColorAndroid:"transparent",containerStyle:[he.containerBox],inputContainerStyle:[he.inputContainer,b&&he.inputContainerFocused,Ve.inputContainer]}),L.name&&(0,te.jsx)(c.default,{style:[W.text],children:L.checkoutReason})]})]})]}),(0,te.jsxs)(d.default,{style:[Ve.containers],children:[(0,te.jsx)(d.default,{style:[Ve.titles],children:(0,te.jsx)(c.default,{style:[Ve.titlesText],children:"Montant : "})}),(0,te.jsxs)(d.default,{style:[Ve.contents],children:[(0,te.jsx)(d.default,{style:{width:10}}),(0,te.jsxs)(d.default,{children:[(0,te.jsx)(de.Input,{placeholder:"EX : Amount",value:a,onChangeText:e=>{l(J(e))},inputMode:"text",multiline:!1,maxLength:100,placeholderTextColor:j,inputStyle:[he.inputText],onFocus:()=>v(!0),onBlur:()=>v(!1),underlineColorAndroid:"transparent",containerStyle:[he.containerBox],inputContainerStyle:[he.inputContainer,S&&he.inputContainerFocused,Ve.inputContainer]}),L.name&&(0,te.jsx)(c.default,{style:[W.text],children:L.amount})]})]})]}),(0,te.jsxs)(d.default,{style:[Ve.containers],children:[(0,te.jsx)(d.default,{style:[Ve.titles],children:(0,te.jsx)(c.default,{style:[Ve.titlesText],children:"Numero De Facture "})}),(0,te.jsxs)(d.default,{style:[Ve.contents],children:[(0,te.jsx)(d.default,{style:{width:10}}),(0,te.jsxs)(d.default,{children:[(0,te.jsx)(de.Input,{placeholder:"EX : Bill No",value:u,onChangeText:e=>{f(e)},inputMode:"text",multiline:!1,maxLength:100,placeholderTextColor:j,inputStyle:[he.inputText],onFocus:()=>T(!0),onBlur:()=>T(!1),underlineColorAndroid:"transparent",containerStyle:[he.containerBox],inputContainerStyle:[he.inputContainer,I&&he.inputContainerFocused,Ve.inputContainer]}),L.name&&(0,te.jsx)(c.default,{style:[W.text],children:L.billNo})]})]})]}),(0,te.jsxs)(d.default,{style:[Ve.containers],children:[(0,te.jsx)(d.default,{style:[Ve.titles],children:(0,te.jsx)(c.default,{style:[Ve.titlesText],children:"Recu Par : "})}),(0,te.jsxs)(d.default,{style:[Ve.contents],children:[(0,te.jsx)(d.default,{style:{width:10}}),(0,te.jsxs)(d.default,{children:[(0,te.jsx)(de.Input,{placeholder:"Name",value:p,onChangeText:e=>{h(e)},inputMode:"text",readOnly:!1,multiline:!1,maxLength:100,placeholderTextColor:j,inputStyle:[he.inputText],onFocus:()=>P(!0),onBlur:()=>P(!1),underlineColorAndroid:"transparent",containerStyle:[he.containerBox],inputContainerStyle:[he.inputContainer,k&&he.inputContainerFocused,Ve.inputContainer]}),L.name&&(0,te.jsx)(c.default,{style:[W.text],children:L.receivedBy})]})]})]}),(0,te.jsxs)(d.default,{style:[Ve.containers],children:[(0,te.jsx)(d.default,{style:[Ve.titles],children:(0,te.jsx)(c.default,{style:[Ve.titlesText],children:"Date : "})}),(0,te.jsxs)(d.default,{style:[Ve.contents],children:[(0,te.jsx)(d.default,{style:{width:10}}),(0,te.jsxs)(d.default,{children:[(0,te.jsx)(de.Input,{placeholder:"Date de la transaction",value:y,onChangeText:e=>{C(e)},inputMode:"text",multiline:!1,readOnly:!1,maxLength:100,placeholderTextColor:j,inputStyle:[he.inputText],onFocus:()=>D(!0),onBlur:()=>D(!1),underlineColorAndroid:"transparent",containerStyle:[he.containerBox],inputContainerStyle:[he.inputContainer,O&&he.inputContainerFocused,Ve.inputContainer,{backgroundColor:z}]}),L.date&&(0,te.jsx)(c.default,{style:[W.text],children:L.date})]})]})]})]}),(0,te.jsx)(d.default,{style:{hieght:10}}),(0,te.jsx)(d.default,{style:[Ve.addProductSubmitView,{}],children:(0,te.jsx)(Oe,{text:"Soumettre",color:E,backgroundColor:m,styles:Ve,onPress:()=>{(async()=>{try{if(_(!0),R({}),!Y(y))return void me.default.alert("Date Error","Entrez une date valide, au format JJ/MM/AA");const e={receivedBy:p,reason:r,amount:parseInt(a.split(".").join("")),billNo:u,type:"outcome",date:y};await n(o,e),Q({title:"Alerte",text:"Votre transaction a \xe9t\xe9 effectu\xe9e avec success.",icon:"warning",action:t?.goBack})}catch(e){console.log(e),Q({title:"Erreur",text:"Verifier votre connexion a Internet. Si cela persiste contacter l'admin.",icon:"warning",action:function(){}})}finally{_(!1)}})()}})}),(0,te.jsx)(ze,{onRequestClose:_,isLoading:A,size:"large",color:m,message:"Chargements des donn\xe9es..."})]})};var qe=o(2497),Ge=o(1930),Je=o(8625),Ke=o(646);const Xe=Ke.object().shape({email:Ke.string().matches(/^[^\s@]+@[^\s@]+\.[^\s@]+$/,"L'adresse email n'est pas valide").required("L'adresse email est requise"),password:Ke.string().min(7,"Le mot de passe doit contenir au moins 7 caract\xe8res").required("Le mot de passe est requis"),username:Ke.string().min(3,"Le nom d'utilisateur doit contenir au moins 3 caract\xe8res").required("Le nom d'utilisateur est requis")});o(1704);const Ye=e=>{const{}=e,t=(0,V.useRoute)(),o=(0,V.useNavigation)(),{checkEmail:n,checkPassword:r,checkUsername:i,user:a,setUser:l,updateUser:f,setIsAuthenticated:p,signupUserWithEmailAndPassword:h,loginUserWithEmailAndPassword:g}=(0,s.useContext)(oe),[x,y]=s.useState(t?.params?.page||"login"),[C,j]=(0,s.useState)("cashier"),[b,w]=(0,s.useState)(""),[I,k]=(0,s.useState)(""),[P,F]=(0,s.useState)(""),[O,D]=(0,s.useState)(""),[L,R]=(0,s.useState)(""),[_,N]=(0,s.useState)(!1),[U,M]=(0,s.useState)(!1),[H,q]=(0,s.useState)(!1),[G,J]=(0,s.useState)(!1),[X,Y]=(0,s.useState)(!1),[Z,ee]=(0,s.useState)(!1),[ne,re]=(0,s.useState)(!1),[ie,ae]=(0,s.useState)(!1),[se,le]=(0,s.useState)(""),[ce,ue]=(0,s.useState)(""),[fe,pe]=(0,s.useState)(""),[he,ge]=(0,s.useState)({});return(0,te.jsxs)(d.default,{style:[$.container],children:[(0,te.jsx)(qe.KeyboardAwareScrollView,{resetScrollToCoords:{x:0,y:0},contentContainerStyle:{flexGrow:1,justifyContent:"center"},scrollEnabled:!0,children:(0,te.jsxs)(_e.default,{contentContainerStyle:[$.infoContainer,{}],children:[(0,te.jsx)(d.default,{style:[$.registerOrLogin],children:(0,te.jsx)(Ge.default.Group,{onValueChange:e=>y(e),value:x,children:(0,te.jsxs)(d.default,{style:[$.credentialGroup],children:[["boss","admin"].includes(a?.role)&&(0,te.jsxs)(d.default,{style:{flexDirection:"row",alignItems:"center",marginBottom:10},children:[(0,te.jsx)(Ge.default,{value:"register"}),(0,te.jsx)(c.default,{children:"Register"})]}),(0,te.jsxs)(d.default,{style:{flexDirection:"row",alignItems:"center",marginBottom:10},children:[(0,te.jsx)(Ge.default,{value:"login"}),(0,te.jsx)(c.default,{children:"Login"})]})]})})}),(0,te.jsxs)(d.default,{style:[$.credentialContainers],children:[(0,te.jsx)(de.Input,{placeholder:"Votre Email",onChangeText:e=>{w(e)},multiline:!1,numberOfLines:1,placeholderTextColor:z,inputStyle:[$.input],onFocus:()=>M(!0),onBlur:()=>M(!1),underlineColorAndroid:"transparent",inputContainerStyle:[$.inputContainer,U&&$.inputFocused],leftIcon:(0,te.jsx)(u.default,{onPress:()=>{},children:(0,te.jsx)(de.Icon,{name:"email",type:"entypo",size:24,color:U?m:B})}),rightIcon:"true"===se?(0,te.jsx)(u.default,{onPress:()=>{},children:(0,te.jsx)(de.Icon,{name:"checkmark-circle-outline",type:"ionicon",size:24,color:T})}):"false"===se&&(0,te.jsx)(u.default,{onPress:()=>{},children:(0,te.jsx)(de.Icon,{name:"close-circle-outline",type:"ionicon",size:24,color:v})}),value:b}),he.email&&(0,te.jsx)(c.default,{style:[W.text],children:he.email})]}),(0,te.jsx)(d.default,{style:{height:10}}),(0,te.jsxs)(d.default,{style:[$.credentialContainers],children:[(0,te.jsx)(de.Input,{placeholder:"Votre Mot De Passe",onChangeText:e=>{F(e)},multiline:!1,numberOfLines:1,placeholderTextColor:z,inputStyle:[$.input],onFocus:()=>q(!0),onBlur:()=>q(!1),underlineColorAndroid:"transparent",inputContainerStyle:[{borderBottomWidth:1},H&&$.inputFocused],leftIcon:(0,te.jsx)(u.default,{onPress:()=>{},children:(0,te.jsx)(de.Icon,{name:"lock-closed-sharp",type:"ionicon",size:24,color:H?m:B})}),rightIcon:ne?(0,te.jsx)(u.default,{onPress:()=>{re(!1)},children:(0,te.jsx)(de.Icon,{type:"ionicon",name:"eye-off-outline",size:24,color:S})}):(0,te.jsx)(u.default,{onPress:()=>{re(!0)},children:(0,te.jsx)(de.Icon,{type:"ionicon",name:"eye-outline",size:24,color:m})}),value:P,secureTextEntry:!ne}),he.password&&(0,te.jsx)(c.default,{style:[W.text],children:he.password})]}),"register"==x&&(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(d.default,{style:[$.registerOrLogin],children:(0,te.jsx)(Ge.default.Group,{onValueChange:e=>j(e),value:C,children:(0,te.jsxs)(d.default,{style:[$.credentialGroup],children:[(0,te.jsxs)(d.default,{style:{flexDirection:"row",alignItems:"center",marginBottom:10},children:[(0,te.jsx)(Ge.default,{value:"admin"}),(0,te.jsx)(c.default,{children:"Admin"})]}),(0,te.jsxs)(d.default,{style:{flexDirection:"row",alignItems:"center",marginBottom:10},children:[(0,te.jsx)(Ge.default,{value:"supplier"}),(0,te.jsx)(c.default,{children:"Supplier"})]}),(0,te.jsxs)(d.default,{style:{flexDirection:"row",alignItems:"center",marginBottom:10},children:[(0,te.jsx)(Ge.default,{value:"visualizer"}),(0,te.jsx)(c.default,{children:"Visualiser"})]}),(0,te.jsxs)(d.default,{style:{flexDirection:"row",alignItems:"center",marginBottom:10},children:[(0,te.jsx)(Ge.default,{value:"cashier"}),(0,te.jsx)(c.default,{children:"Cashier"})]})]})})}),(0,te.jsxs)(d.default,{style:[$.credentialContainers],children:[(0,te.jsx)(de.Input,{placeholder:"Location - Ex : douala/logpom",onChangeText:e=>{R(e)},multiline:!1,numberOfLines:1,placeholderTextColor:z,inputStyle:[$.input],onFocus:()=>ee(!0),onBlur:()=>ee(!1),underlineColorAndroid:"transparent",inputContainerStyle:[$.inputContainer,Z&&$.inputFocused],leftIcon:(0,te.jsx)(u.default,{onPress:()=>{},children:(0,te.jsx)(de.Icon,{name:"email",type:"entypo",size:24,color:U?m:B})}),value:L}),he.location&&(0,te.jsx)(c.default,{style:[W.text],children:he.location})]}),(0,te.jsx)(d.default,{style:{height:10}}),(0,te.jsxs)(d.default,{style:[$.credentialContainers],children:[(0,te.jsx)(de.Input,{placeholder:"Votre Mot De Passe",onChangeText:e=>{D(e)},multiline:!1,numberOfLines:1,placeholderTextColor:z,inputStyle:[$.input],onFocus:()=>Y(!0),onBlur:()=>Y(!1),underlineColorAndroid:"transparent",inputContainerStyle:[{borderBottomWidth:1},X&&$.inputFocused],leftIcon:(0,te.jsx)(u.default,{onPress:()=>{},children:(0,te.jsx)(de.Icon,{name:"lock-closed-sharp",type:"ionicon",size:24,color:X?m:B})}),rightIcon:ie?(0,te.jsx)(u.default,{onPress:()=>{ae(!1)},children:(0,te.jsx)(de.Icon,{type:"ionicon",name:"eye-off-outline",size:24,color:S})}):(0,te.jsx)(u.default,{onPress:()=>{ae(!0)},children:(0,te.jsx)(de.Icon,{type:"ionicon",name:"eye-outline",size:24,color:m})}),value:O,secureTextEntry:!ie}),he.password&&(0,te.jsx)(c.default,{style:[W.text],children:he.password})]})]}),(0,te.jsx)(u.default,{style:[$.forgotBox],onPress:()=>{o.navigate("ResetPassword")},children:(0,te.jsx)(c.default,{style:[A.text,$.forgotText],children:"Mot de passe oubli\xe9 ?"})})]})}),(0,te.jsx)(Oe,{text:"Valider",onPress:()=>{"login"===x?(async(e,t,n)=>{try{let r;if(N(!0),new FormData,r=await g(e,t,n),!r){const e=new Error("Utilisateur non trouv\xe9");throw e.code="auth/user-not-found",e}return void o.replace("Home")}catch(r){console.log(r);const e={title:"Erreur",text:"Verifier votre connexion a Internet. Si cela persiste contacter l'admin.",icon:"warning",action:function(){}};return r.code?void Q(Object.assign({},e,{text:K(r.code)+"\nVerifiez votre connexion a Internet"})):void Q(e)}finally{N(!1)}})(b,I,P):(async(e,t,n)=>{try{N(!0);const r={email:e,password:n,username:e.split(".")[0],adminPassword:O};await Xe.validate(r,{abortEarly:!1}),h(e,t,n,O,C,L).then((async()=>{Q({title:"Alert",text:"Nouveau membre enregistre avec succes",icon:"warning",action:o?.goBack})}))}catch(r){if(console.log(r),r instanceof Ke.ValidationError){const e={};r.inner.forEach((t=>{e[t.path]=t.message})),ge(e)}else{const e={title:"Erreur",text:"Verifier votre connexion a Internet. Si cela persiste contacter l'admin.",icon:"warning",action:function(){}};if(r.code)return void Q(Object.assign({},e,{text:K(r.code)+"\nVerifiez votre connexion a Internet"}));Q(e)}}finally{N(!1)}})(b,I,P)},color:E,backgroundColor:m,styles:{pressable:$.pressable,text:$.text}}),(0,te.jsx)(ze,{onRequestClose:N,isLoading:_,size:"large",color:m,message:"V\xe9rification des donn\xe9ees..."})]})};var Qe=o(4249);const Ze=e=>{const{}=e,t=((0,V.useRoute)(),(0,V.useNavigation)()),[o,n]=(0,s.useState)(""),[r,i]=(0,s.useState)(""),[a,l]=(0,s.useState)(""),[c,f]=(0,s.useState)(!1);return(0,te.jsxs)(d.default,{style:[{flex:1}],children:[(0,te.jsx)(Qe.default,{title:"Login",onPress:()=>{t.navigate("UserLogin")}}),(0,te.jsxs)(d.default,{children:[(0,te.jsx)(de.Input,{placeholder:"Posez une question",onChangeText:e=>{n(e)},multiline:!0,numberOfLines:1,placeholderTextColor:z,inputStyle:[$.input,c&&$.inputFocused],onFocus:()=>f(!0),onBlur:()=>f(!1),underlineColorAndroid:"transparent",inputContainerStyle:{borderBottomWidth:c?0:1},leftIcon:(0,te.jsx)(u.default,{onPress:()=>{},children:(0,te.jsx)(de.Icon,{name:"send-sharp",type:"ionicon",size:24,color:m})}),value:o}),(0,te.jsx)(d.default,{style:[$.credentialContainers],children:(0,te.jsx)(de.Input,{placeholder:"Nom De Votre Boutique",onChangeText:e=>{i(e)},multiline:!1,numberOfLines:1,placeholderTextColor:z,inputStyle:[$.input],onFocus:()=>setIsUsernameFocused(!0),onBlur:()=>setIsUsernameFocused(!1),underlineColorAndroid:"transparent",inputContainerStyle:[{borderBottomWidth:1},isUsernameFocused&&$.inputFocused],leftIcon:(0,te.jsx)(u.default,{onPress:()=>{},children:(0,te.jsx)(de.Icon,{name:"basket-outline",type:"ionicon",size:24,color:m})}),rightIcon:"true"===isUsernameCorrect?(0,te.jsx)(u.default,{onPress:()=>{},children:(0,te.jsx)(de.Icon,{name:"checkmark-circle-outline",type:"ionicon",size:24,color:T})}):"false"===isUsernameCorrect&&(0,te.jsx)(u.default,{onPress:()=>{},children:(0,te.jsx)(de.Icon,{name:"close-circle-outline",type:"ionicon",size:24,color:v})}),value:r})}),(0,te.jsx)(Oe,{text:"Valider",color:E,backgroundColor:m,styles:{pressable:$.pressable,text:$.text}})]}),(0,te.jsx)(Qe.default,{title:"Login",onPress:()=>{t.navigate("UserLogin")}})]})},et=e=>{const{}=e,t=((0,V.useRoute)(),(0,V.useNavigation)()),{checkEmail:o,checkPassword:n,checkUsername:r,user:i,setUser:a,getUser:l,updateUser:f,setIsAuthenticated:p,loginUserWithEmailAndPassword:h}=(0,s.useContext)(oe),[g,x]=(0,s.useState)(""),[y,C]=(0,s.useState)(""),[j,b]=(0,s.useState)(""),[w,I]=(0,s.useState)(""),[k,P]=(0,s.useState)(""),[F,O]=(0,s.useState)(!1),[D,L]=(0,s.useState)(!1),[R,A]=(0,s.useState)(!1),[_,N]=(0,s.useState)(!1),[U,M]=(0,s.useState)(!1),[H,q]=(0,s.useState)(!1),[G,J]=(0,s.useState)(!1),[X,Y]=(0,s.useState)(""),[Q,Z]=(0,s.useState)(""),[ee,ne]=(0,s.useState)(""),[re,ie]=(0,s.useState)(!1),[ae,se]=(0,s.useState)({});return(0,te.jsxs)(d.default,{style:[{flex:1}],children:[(0,te.jsxs)(d.default,{style:[$.infoContainer],children:[(0,te.jsxs)(d.default,{style:[$.credentialContainers],children:[(0,te.jsx)(de.Input,{placeholder:"Votre Email",onChangeText:e=>{x(e)},multiline:!1,readOnly:re,numberOfLines:1,placeholderTextColor:z,inputStyle:[$.input],onFocus:()=>L(!0),onBlur:()=>L(!1),underlineColorAndroid:"transparent",inputContainerStyle:[$.inputContainer,D&&$.inputFocused],leftIcon:(0,te.jsx)(u.default,{onPress:()=>{},children:(0,te.jsx)(de.Icon,{name:"email",type:"entypo",size:24,color:D?m:B})}),rightIcon:"true"===X?(0,te.jsx)(u.default,{onPress:()=>{},children:(0,te.jsx)(de.Icon,{name:"checkmark-circle-outline",type:"ionicon",size:24,color:T})}):"false"===X&&(0,te.jsx)(u.default,{onPress:()=>{},children:(0,te.jsx)(de.Icon,{name:"close-circle-outline",type:"ionicon",size:24,color:v})}),value:g}),ae.email&&(0,te.jsx)(c.default,{style:[W.text],children:ae.email})]}),re&&(0,te.jsxs)(d.default,{children:[(0,te.jsx)(d.default,{style:[$.credentialContainers],children:(0,te.jsx)(de.Input,{placeholder:"Votre Mot De Passe",onChangeText:e=>{I(e)},multiline:!1,numberOfLines:1,placeholderTextColor:z,inputStyle:[$.input],onFocus:()=>A(!0),onBlur:()=>A(!1),underlineColorAndroid:"transparent",inputContainerStyle:[{borderBottomWidth:1},R&&$.inputFocused],leftIcon:(0,te.jsx)(u.default,{onPress:()=>{},children:(0,te.jsx)(de.Icon,{name:"key-outline",type:"ionicon",size:24,color:m})}),rightIcon:H?(0,te.jsx)(u.default,{onPress:()=>{q(!1)},children:(0,te.jsx)(de.Icon,{type:"ionicon",name:"eye-off-outline",size:24,color:S})}):(0,te.jsx)(u.default,{onPress:()=>{q(!0)},children:(0,te.jsx)(de.Icon,{type:"ionicon",name:"eye-outline",size:24,color:m})}),value:w,secureTextEntry:!H})}),(0,te.jsxs)(d.default,{style:[$.credentialContainers],children:[(0,te.jsx)(de.Input,{placeholder:"Votre Mot De Passe",onChangeText:e=>{P(e)},multiline:!1,numberOfLines:1,placeholderTextColor:z,inputStyle:[$.input],onFocus:()=>N(!0),onBlur:()=>N(!1),underlineColorAndroid:"transparent",inputContainerStyle:[{borderBottomWidth:1},_&&$.inputFocused],leftIcon:(0,te.jsx)(u.default,{onPress:()=>{},children:(0,te.jsx)(de.Icon,{name:"key-outline",type:"ionicon",size:24,color:m})}),rightIcon:G?(0,te.jsx)(u.default,{onPress:()=>{J(!1)},children:(0,te.jsx)(de.Icon,{type:"ionicon",name:"eye-off-outline",size:24,color:S})}):(0,te.jsx)(u.default,{onPress:()=>{J(!0)},children:(0,te.jsx)(de.Icon,{type:"ionicon",name:"eye-outline",size:24,color:m})}),value:k,secureTextEntry:!G}),ae.password&&(0,te.jsx)(c.default,{style:[W.text],children:ae.password})]})]}),(0,te.jsx)(d.default,{style:{height:6}}),(0,te.jsx)(Oe,{text:"Valider",onPress:()=>{(async e=>{try{O(!0),se({}),await l(e)||me.default.alert("Error","Email non trouv\xe9e");const o=new FormData;if(o.append("password",1e4*Math.random()),!await f(e,o)){const e=new Error("Utilisateur non trouv\xe9");throw e.code="auth/user-not-found",e}await(0,Je.default)().sendPasswordResetEmail(e),me.default.alert("Password reset","Vous allez recevoir un email pour enregistrer votre nouveau mot de passe. Si vous ne le trouvez pas, regardez vos spams.",[{text:"OK",onPress:()=>t.navigate("UserLogin")}],{cancelable:!0})}catch(o){if(o instanceof Ke.ValidationError){const e={};o.inner.forEach((t=>{e[t.path]=t.message})),console.log(e),se(e)}else{if(o.code)return void me.default.alert("Erreur",K(o.code));me.default.alert("Error","Une erreur est sruvenue lors de la verificaiton de vos informations. V\xe9rifiez les donn\xe9es fournies.")}console.log(o)}finally{O(!1)}})(g)},color:E,backgroundColor:m,styles:{pressable:$.pressable,text:$.text}})]}),(0,te.jsx)(ze,{onRequestClose:O,isLoading:F,size:"large",color:m,message:"Envoie de l'email de reinitialisation en cours..."})]})},tt=e=>{(0,V.useRoute)();const t=(0,V.useNavigation)(),[o,n]=(0,s.useState)(!0),{checkEmail:r,checkPassword:i,checkUsername:a,user:l,setUser:c,isAuthenticated:u,setIsAuthenticated:f,loginUserWithEmailAndPassword:p}=(0,s.useContext)(oe);return(0,s.useEffect)((()=>{(async()=>{try{n(!0);if(await ee.getItemAsync("authToken")){const e=JSON.parse(await ee.getItemAsync("user"));return void p(e.email,e.username,e.password).then((async e=>{if(!e)throw new Error("Nous n'avons pas pu vous connecter automatiquement.");t.replace("Home")})).catch((e=>{console.log("TOKEN"),t.replace("UserLogin")}))}t.replace("UserLogin")}catch(e){console.log(e),console.log("NOT TOKEN"),t.replace("UserLogin"),f(!1),n(!1)}})()}),[]),(0,s.useEffect)((()=>{}),[u,t]),(0,te.jsx)(d.default,{style:[ot.container],children:(0,te.jsx)(ze,{onRequestClose:n,isLoading:o,size:"large",color:m,message:"Chargements des donn\xe9es..."})})},ot=n.default.create({container:{flex:1,justifyContent:"center",alignItems:"center"},animation:{width:100,height:100}}),nt=(n.default.create({container:{}}),e=>{const{title:t}=e;(0,V.useRoute)();return(0,te.jsx)(d.default,{children:(0,te.jsx)(c.default,{children:t})})}),rt=(e,t,o)=>({headerShown:!1,gestureEnabled:!0,cardStyleInterpolator:({current:t,next:o,layouts:n})=>({cardStyle:{transform:[{translateX:t.progress.interpolate({inputRange:[0,1],outputRange:[n.screen.width*e,0],extrapolate:"clamp"})}]}}),transitionSpec:{open:{animation:"timing",config:{duration:t}},close:{animation:"timing",config:{duration:o}}}}),it=(0,l.default)();function at(){return(0,te.jsx)(a.SafeAreaView,{style:{flex:1},children:(0,te.jsx)(ne,{children:(0,te.jsx)(Le,{children:(0,te.jsxs)(it.Navigator,{initialRouteName:"LoaderPage",screenOptions:rt(.9,250,200),children:[(0,te.jsx)(it.Screen,{name:"Home",component:re,options:{title:(0,te.jsx)(nt,{title:"Home"}),headerShown:!0,tabBarVisible:!1}}),(0,te.jsx)(it.Screen,{name:"ViewAccountancies",component:Re,options:{title:(0,te.jsx)(nt,{title:"Accountancies"}),headerShown:!0,tabBarVisible:!1}}),(0,te.jsx)(it.Screen,{name:"ViewAccountanciesDetails",component:Me,options:{title:(0,te.jsx)(nt,{title:"Accountancies Details"}),headerShown:!0,tabBarVisible:!1}}),(0,te.jsx)(it.Screen,{name:"AddAccountancy",component:$e,options:{title:(0,te.jsx)(nt,{title:"Add Accountancy"}),headerShown:!0,tabBarVisible:!1}}),(0,te.jsx)(it.Screen,{name:"SupplyFunds",component:Ne,options:{title:(0,te.jsx)(nt,{title:"Add Supply Funds"}),headerShown:!0,tabBarVisible:!1}}),(0,te.jsx)(it.Screen,{name:"LoaderPage",component:tt,options:{title:(0,te.jsx)(nt,{title:"Loader"}),headerShown:!0,tabBarVisible:!1}}),(0,te.jsx)(it.Screen,{name:"UserLogin",component:Ye,options:{title:(0,te.jsx)(nt,{title:"Login"}),headerShown:!0,tabBarVisible:!1}}),(0,te.jsx)(it.Screen,{name:"UserSignup",component:Ze,options:{title:(0,te.jsx)(nt,{title:"Sign Up"}),headerShown:!0,tabBarVisible:!1}}),(0,te.jsx)(it.Screen,{name:"ResetPassword",component:et,options:{title:(0,te.jsx)(nt,{title:"Reset Password"}),headerShown:!0,tabBarVisible:!1}})]})})})})}n.default.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"}});function st(){return(0,te.jsx)(i.SafeAreaProvider,{children:(0,te.jsx)(a.SafeAreaView,{style:{flex:1},children:(0,te.jsx)(r.default,{children:(0,te.jsx)(at,{})})})})}n.default.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"}})},6797:(e,t,o)=>{e.exports=o.p+"static/media/logo1.1f0bd22a9e37d86a95ef.jpg"}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(i.exports,i,i.exports,o),i.loaded=!0,i.exports}o.m=e,(()=>{var e=[];o.O=(t,n,r,i)=>{if(!n){var a=1/0;for(c=0;c<e.length;c++){for(var[n,r,i]=e[c],s=!0,l=0;l<n.length;l++)(!1&i||a>=i)&&Object.keys(o.O).every((e=>o.O[e](n[l])))?n.splice(l--,1):(s=!1,i<a&&(a=i));if(s){e.splice(c--,1);var d=r();void 0!==d&&(t=d)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[n,r,i]}})(),o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;o.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"===typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"===typeof n.then)return n}var i=Object.create(null);o.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>n[e]));return a.default=()=>n,o.d(i,a),i}})(),o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),o.p="/",(()=>{var e={792:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var r,i,[a,s,l]=n,d=0;if(a.some((t=>0!==e[t]))){for(r in s)o.o(s,r)&&(o.m[r]=s[r]);if(l)var c=l(o)}for(t&&t(n);d<a.length;d++)i=a[d],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(c)},n=self.webpackChunkweb=self.webpackChunkweb||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var n=o.O(void 0,[448],(()=>o(3931)));n=o.O(n)})();
//# sourceMappingURL=main.d3749c96.js.map